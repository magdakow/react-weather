(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{19:function(e,t,a){e.exports=a(43)},24:function(e,t,a){},25:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),c=a.n(i),s=(a(24),a(25),a(2)),l=a(3),o=a(5),m=a(4),u=a(6),d=a(17),h=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={cityName:""},a.handleChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(d.a)({},r,n))},a.handleSubmit=function(e){e.preventDefault(),a.passData(a.state.cityName)},a.passData=function(e){console.log("PassData "+e),a.props.getCityWeather(e)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.cityName;return r.a.createElement("section",null,r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h2",null,"Enter City Name:")," ",r.a.createElement("br",null),r.a.createElement("input",{className:"city-input",type:"text",name:"cityName",value:e,onChange:this.handleChange}),r.a.createElement("button",null,"Check weather"))))}}]),t}(r.a.Component),y=a(18),p=a.n(y),f=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={cityName:"",time:"",cityLatitude:"",cityLongitude:"",currentTemp:"",dayMinTemp:"",dayMaxTemp:"",currentHumidity:"",currentPressure:"",currentWind:"",currentRainfall:"",isIncorrectCity:!1,isLoading:!1,isWeatherData:!1},a.getCityWeatherData=function(e){a.setState({isLoading:!0}),p.a.post("https://api.openweathermap.org/data/2.5/weather?q="+e+"&appid=05508bb378ad891b493b0c886cca7a57&units=metric").then((function(e){return e.data})).then((function(t){console.log(t),a.processMain(t.main),a.processCoord(t.coord),a.processWind(t.wind),a.processRain(t.weather[0]),a.processTime(t),a.setState({cityName:e,isIncorrectCity:!1,isLoading:!1,isWeatherData:!0})})).catch((function(e){a.setState({isIncorrectCity:!0,isLoading:!1,isWeatherData:!0}),console.log(e)}))},a.processMain=function(e){null!==e&&"undefined"!==typeof e&&(a.setState({currentTemp:e.temp,dayMinTemp:e.temp_min,dayMaxTemp:e.temp_max,currentHumidity:e.humidity+"%",currentPressure:e.pressure+"hPa"}),console.log("Set main"))},a.processCoord=function(e){null!==e&&"undefined"!==typeof e&&(a.setState({cityLatitude:e.lat,cityLongitude:e.lon}),console.log("Set coordinates"))},a.processWind=function(e){null!==e&&"undefined"!==typeof e&&(a.setState({currentWind:e.speed+"m/s"}),console.log("Set wind"))},a.processRain=function(e){null!==e&&"undefined"!==typeof e&&(a.setState({currentRainfall:e.description}),console.log("Set rain"))},a.processTime=function(e){if(null!==e&&"undefined"!==typeof e){var t=e.dt,n=new Date(1e3*t),r=n.getFullYear(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()],c=n.getDate(),s=n.getHours(),l="0"+n.getMinutes(),o="0"+n.getSeconds(),m=c+" "+i+" "+r+" "+(s+":"+l.substr(-2)+":"+o.substr(-2));a.setState({time:m}),console.log("Set time")}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isLoading;return e.isIncorrectCity&&!t?r.a.createElement("section",null,r.a.createElement("div",{className:"container"},r.a.createElement(h,{getCityWeather:this.getCityWeatherData}),r.a.createElement("div",{className:"alert-danger text-center"},"Entered City is incorrect!"))):t?r.a.createElement("section",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"alert-info text-center"},"Loading"))):r.a.createElement("section",null,r.a.createElement("div",{className:"container"},r.a.createElement(h,{getCityWeather:this.getCityWeatherData}),r.a.createElement("div",{className:"text"},r.a.createElement("div",{className:[this.state.isWeatherData?"visible":"invisible"]},r.a.createElement("div",{className:"text-center-city"},"Weather for city: ",this.state.cityName),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center-date"},"Data downloaded at: ",this.state.time),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm text-center"},"City latitude: ",this.state.cityLatitude),r.a.createElement("div",{className:"col-sm text-center"},"City longitude: ",this.state.cityLongitude),r.a.createElement("div",{className:"col-sm text-center"},"City currentRainfall: ",this.state.currentRainfall)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm text-center"},"City current temp: ",this.state.currentTemp," \xb0C"),r.a.createElement("div",{className:"col-sm text-center"},"City day min temp: ",this.state.dayMinTemp," \xb0C"),r.a.createElement("div",{className:"col-sm text-center"},"City day max temp: ",this.state.dayMaxTemp," \xb0C")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm text-center"},"City currentHumidity: ",this.state.currentHumidity),r.a.createElement("div",{className:"col-sm text-center"},"City currentPressure: ",this.state.currentPressure),r.a.createElement("div",{className:"col-sm text-center"},"City currentWind: ",this.state.currentWind))))))}}]),t}(r.a.Component);var v=function(){return r.a.createElement(f,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.d51a84f3.chunk.js.map